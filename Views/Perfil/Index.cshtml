@using Microsoft.AspNetCore.Identity
@inject UserManager<IdentityUser> UserManager

@model Microsoft.AspNetCore.Identity.IdentityUser

@{
    ViewData["Title"] = "Perfil de Usuario";
    var isAdmin = UserManager.IsInRoleAsync(Model, "Admin").Result; // Check if the user is an admin
    Layout = isAdmin ? "_LayoutAdmin" : "_Layout"; // Set the layout based on the role
}

@if (isAdmin)
{
    <div class="container mt-5">
        <div class="row">
            <!-- Panel del Administrador -->
            <div class="col-md-8">
                <h2 class="mb-4 text-primary">üë®‚Äçüíº Perfil de Administrador</h2>
                <div class="card shadow-lg">
                    <div class="card-header bg-primary text-white">
                        Informaci√≥n Personal
                    </div>
                    <div class="card-body">
                        <p><strong>Nombre de usuario:</strong> @Model.UserName</p>
                        <p><strong>Email:</strong> @Model.Email</p>
                        <p><strong>Tel√©fono:</strong> @Model.PhoneNumber</p>
                    </div>
                </div>
            </div>

            <!-- Opciones adicionales -->
            <div class="col-md-4">
                <h4 class="mb-4 text-primary">‚öô Opciones de Administraci√≥n</h4>
                <ul class="list-group shadow-lg">
                    <li class="list-group-item">
                        <a href="/Admin/Usuarios" class="text-decoration-none text-dark">
                            <i class="bi bi-people"></i> Gesti√≥n de Usuarios
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/Admin/Reportes" class="text-decoration-none text-dark">
                            <i class="bi bi-bar-chart"></i> Generar Reportes
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/Admin/Configuraciones" class="text-decoration-none text-dark">
                            <i class="bi bi-gear"></i> Configuraciones del Sistema
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/Admin/Soporte" class="text-decoration-none text-dark">
                            <i class="bi bi-life-preserver"></i> Soporte T√©cnico
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <div class="row mt-5">
            <div class="col-12">
                <div class="alert alert-info">
                    <strong>üì¢ Nota:</strong> Recuerda mantener el sistema actualizado para garantizar su correcto funcionamiento.
                </div>
            </div>
        </div>
    </div>
}
else
{
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <h2 class="mb-4 text-center text-secondary">üë§ Mi Perfil</h2>
                <div class="card shadow-lg">
                    <div class="card-header bg-secondary text-white text-center">
                        Informaci√≥n Personal
                    </div>
                    <div class="card-body">
                        <p><strong>Nombre de usuario:</strong> @Model.UserName</p>
                        <p><strong>Email:</strong> @Model.Email</p>
                        <p><strong>Tel√©fono:</strong> @Model.PhoneNumber</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row justify-content-center mt-4">
            <div class="col-md-6 text-center">
                <a href="/Cuenta/Editar" class="btn btn-secondary me-2">Editar Perfil</a>
                <a href="/Cuenta/CerrarSesion" class="btn btn-outline-secondary">Cerrar Sesi√≥n</a>
            </div>
        </div>
    </div>
}
